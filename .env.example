# Ad Seller System Configuration

# Required: Anthropic API Key for CrewAI agents
ANTHROPIC_API_KEY=your-api-key-here

# OpenDirect Server Configuration
# Default: Live IAB Tech Lab agentic-direct server (OpenDirect 2.1)
OPENDIRECT_BASE_URL=https://agentic-direct-server-hwgrypmndq-uk.a.run.app

# Optional: For local OpenDirect 2.1 server
# OPENDIRECT_BASE_URL=http://localhost:3000

# Protocol Selection: opendirect21 (default), a2a (agent-to-agent)
DEFAULT_PROTOCOL=opendirect21

# Seller Identity
SELLER_ORGANIZATION_ID=my-publisher-001
SELLER_ORGANIZATION_NAME=My Publisher

# =============================================================================
# Ad Server Configuration
# =============================================================================

# Ad server type: google_ad_manager (default), freewheel
AD_SERVER_TYPE=google_ad_manager

# -----------------------------------------------------------------------------
# Google Ad Manager (GAM) Configuration
# -----------------------------------------------------------------------------
# To enable GAM integration:
# 1. Create a Google Cloud Project with Ad Manager API enabled
# 2. Create a Service Account with JSON key
# 3. Link Service Account to GAM Network (Admin > Global Settings > API access)
# 4. Set the configuration below

# Feature flag to enable GAM integration
GAM_ENABLED=false

# GAM network code (found in Admin > Global Settings)
# GAM_NETWORK_CODE=12345678

# Path to service account JSON key file
# GAM_JSON_KEY_PATH=/path/to/service-account-key.json

# Application name for GAM API requests
GAM_APPLICATION_NAME=AdSellerSystem

# SOAP API version (check https://developers.google.com/ad-manager/api/rel_notes)
GAM_API_VERSION=v202411

# Default trafficker user ID for orders (GAM user who manages the order)
# Find this in GAM Admin > Users
# GAM_DEFAULT_TRAFFICKER_ID=123456789

# -----------------------------------------------------------------------------
# FreeWheel Configuration (alternative ad server)
# -----------------------------------------------------------------------------
# FREEWHEEL_API_URL=https://api.freewheel.com
# FREEWHEEL_API_KEY=your-freewheel-api-key

# Database / Storage Configuration
# Default: SQLite (no setup required)
STORAGE_TYPE=sqlite
DATABASE_URL=sqlite:///./ad_seller.db

# Optional: Redis (for production / distributed deployments)
# Set STORAGE_TYPE=redis and provide REDIS_URL to use Redis instead of SQLite
# STORAGE_TYPE=redis
# REDIS_URL=redis://localhost:6379/0

# Pricing Configuration
DEFAULT_CURRENCY=USD
MIN_DEAL_VALUE=1000.0
DEFAULT_PRICE_FLOOR_CPM=5.0

# Yield Optimization
YIELD_OPTIMIZATION_ENABLED=true
PROGRAMMATIC_FLOOR_MULTIPLIER=1.2
PREFERRED_DEAL_DISCOUNT_MAX=0.15

# LLM Configuration
DEFAULT_LLM_MODEL=anthropic/claude-sonnet-4-5-20250929
MANAGER_LLM_MODEL=anthropic/claude-opus-4-20250514
LLM_TEMPERATURE=0.3

# CrewAI Configuration
CREW_MEMORY_ENABLED=true
CREW_VERBOSE=true
CREW_MAX_ITERATIONS=15
